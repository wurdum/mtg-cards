{% extends 'base.html' %}
{% block content %}

<table class="table table-striped">
    <thead>
        <tr>
            <th rowspan="2" class="span1">number</th>
            <th rowspan="2" class="span3">name</th>
            <th rowspan="2" class="span9">description</th>
            <th colspan="3">price</th>
        </tr>
        <tr>
            <th>low</th>
            <th>mid</th>
            <th>high</th>
        </tr>
    </thead>
    <tbody>
        {% for card in cards %}
        <tr>
            <td class="text-center">{{ card.number }}</td>
            <td>
                <p><a href="{{ card.info.url if card.info else '#' }}">{{ card.name }}</a></p>
                {% if card.prices %}
                <small><a href="{{ card.prices.url }}">at TCGPlayer</a></small>
                {% endif %}
            </td>
            <td>
                {% if card.info %}
                    {% for line in card.info.description %}
                        <small>{{ line }}</small><br/>
                    {% endfor %}
                {% endif %}
            </td>
            {% if not card.prices %}
            <td colspan="3"></td>
            {% else %}
            <td class="text-center">{{ card.prices.low }}</td>
            <td class="text-center">{{ card.prices.mid }}</td>
            <td class="text-center">{{ card.prices.high }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>
    <tfoot>
        <tr class="info">
            <th>{{ cards_num }}</th>
            <th></th>
            <th></th>
            <th>${{ sum_prices['low'] }}</th>
            <th>${{ sum_prices['mid'] }}</th>
            <th>${{ sum_prices['high'] }}</th>
        </tr>
    </tfoot>
</table>
{% endblock %}